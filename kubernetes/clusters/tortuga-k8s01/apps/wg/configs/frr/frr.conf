frr version 10.5
frr defaults traditional
hostname tortuga-wg
log syslog informational
service integrated-vtysh-config

! OSPF for WireGuard HA tunnels
router ospf
 ospf router-id 10.66.0.1
 ! Fast SPF timers for quick convergence
 timers throttle spf 50 100 1000
 ! Originate default route (for internet access via Tortuga)
 default-information originate always
 ! Passive on non-WG interfaces
 passive-interface default
 no passive-interface wg0
 no passive-interface wg1
 no passive-interface wg2

! WG tunnel interfaces - point-to-point with fast timers
interface wg0
 ip ospf area 0
 ip ospf network point-to-point
 ip ospf hello-interval 2
 ip ospf dead-interval 6

interface wg1
 ip ospf area 0
 ip ospf network point-to-point
 ip ospf hello-interval 2
 ip ospf dead-interval 6

interface wg2
 ip ospf area 0
 ip ospf network point-to-point
 ip ospf hello-interval 2
 ip ospf dead-interval 6

! OSPFv3 for IPv6
router ospf6
 ospf6 router-id 10.66.0.1
 ! Fast SPF timers
 timers throttle spf 50 100 1000

interface wg0
 ipv6 ospf6 area 0
 ipv6 ospf6 network point-to-point
 ipv6 ospf6 hello-interval 2
 ipv6 ospf6 dead-interval 6

interface wg1
 ipv6 ospf6 area 0
 ipv6 ospf6 network point-to-point
 ipv6 ospf6 hello-interval 2
 ipv6 ospf6 dead-interval 6

interface wg2
 ipv6 ospf6 area 0
 ipv6 ospf6 network point-to-point
 ipv6 ospf6 hello-interval 2
 ipv6 ospf6 dead-interval 6
